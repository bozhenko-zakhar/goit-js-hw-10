{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateInput = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"button\");\nconst dataDays = document.querySelector(\"span[data-days]\");\nconst dataHours = document.querySelector(\"span[data-hours]\");\nconst dataMinutes = document.querySelector(\"span[data-minutes]\");\nconst dataSeconds = document.querySelector(\"span[data-seconds]\");\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    onCloseHandler(selectedDates[0]);\n  },\n};\n\nfunction onCloseHandler(selectedDate) {\n\tconst options = {\n\t\t\ttimeout: 3000,\n\t\t\tmessageColor: \"white\",\n\t\t\tposition: 'topRight',\n\t\t\tprogressBar: false,\n\t\t\tclose: false,\n\t\t\ttransitionIn: \"fadeIn\",\n\t\t\tanimateInside: false\n\t}\n\t\n\tif (selectedDate.getTime() <= Date.now()) {\n\t\tiziToast.error({...options,\n    \tmessage: 'Please choose a date in the future',\n\t\t\tbackgroundColor: \"#EF4040\",\n\t\t});\n\n\t\tstartButton.disabled = true;\n\n\t\treturn\n\t}\n\n\tuserSelectedDate = selectedDate.getTime();\n\tstartButton.disabled = false;\n}\n\nfunction onStartHandler() {\n\tstartButton.disabled = true;\n\tdateInput.disabled = true;\n\n\tconst intervalId = setInterval(() => {\n\t\tif (userSelectedDate <= Date.now()) {\n\t\t\tclearInterval(intervalId);\n\t\t\tstartButton.disabled = false;\n\t\t\tdateInput.disabled = false;\n\t\t\treturn\n\t\t}\n\n\t\tdataDays.textContent = addLeadingZero(convertMs(userSelectedDate - Date.now()).days);\n\t\tdataHours.textContent = addLeadingZero(convertMs(userSelectedDate - Date.now()).hours);\n\t\tdataMinutes.textContent = addLeadingZero(convertMs(userSelectedDate - Date.now()).minutes);\n\t\tdataSeconds.textContent = addLeadingZero(convertMs(userSelectedDate - Date.now()).seconds);\n\t}, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n\treturn value.toString().padStart(2, \"0\")\n}\n\nflatpickr(\"#datetime-picker\", options);\nstartButton.addEventListener(\"click\", onStartHandler)"],"names":["dateInput","startButton","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","options","selectedDates","onCloseHandler","selectedDate","iziToast","onStartHandler","intervalId","addLeadingZero","convertMs","ms","days","hours","minutes","seconds","value","flatpickr"],"mappings":"+IASA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAC/D,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAeD,EAAc,CAAC,CAAC,CAChC,CACH,EAEA,SAASC,EAAeC,EAAc,CACrC,MAAMH,EAAU,CACd,QAAS,IACT,aAAc,QACd,SAAU,WACV,YAAa,GACb,MAAO,GACP,aAAc,SACd,cAAe,EAChB,EAED,GAAIG,EAAa,QAAO,GAAM,KAAK,IAAG,EAAI,CACzCC,EAAS,MAAM,CAAC,GAAGJ,EAChB,QAAS,qCACX,gBAAiB,SACpB,CAAG,EAEDN,EAAY,SAAW,GAEvB,MACA,CAEDK,EAAmBI,EAAa,UAChCT,EAAY,SAAW,EACxB,CAEA,SAASW,GAAiB,CACzBX,EAAY,SAAW,GACvBD,EAAU,SAAW,GAErB,MAAMa,EAAa,YAAY,IAAM,CACpC,GAAIP,GAAoB,KAAK,MAAO,CACnC,cAAcO,CAAU,EACxBZ,EAAY,SAAW,GACvBD,EAAU,SAAW,GACrB,MACA,CAEDE,EAAS,YAAcY,EAAeC,EAAUT,EAAmB,KAAK,IAAG,CAAE,EAAE,IAAI,EACnFH,EAAU,YAAcW,EAAeC,EAAUT,EAAmB,KAAK,IAAG,CAAE,EAAE,KAAK,EACrFF,EAAY,YAAcU,EAAeC,EAAUT,EAAmB,KAAK,IAAG,CAAE,EAAE,OAAO,EACzFD,EAAY,YAAcS,EAAeC,EAAUT,EAAmB,KAAK,IAAG,CAAE,EAAE,OAAO,CACzF,EAAE,GAAI,CACR,CAEA,SAASS,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASN,EAAeO,EAAO,CAC9B,OAAOA,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,CACxC,CAEAC,EAAU,mBAAoBf,CAAO,EACrCN,EAAY,iBAAiB,QAASW,CAAc"}